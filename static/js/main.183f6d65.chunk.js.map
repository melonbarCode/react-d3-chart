{"version":3,"sources":["components/BarChart/population.csv","components/BarChart/BarChart.js","App.js","reportWebVitals.js","index.js"],"names":["BarChart","props","barChartRef","useRef","useEffect","svg","select","current","console","log","attr","width","height","margin","innerWidth","innerHeight","xValue","d","population","yValue","country","csv","data","then","forEach","sort","a","b","xScale","scaleLinear","domain","max","range","yScale","scaleBand","map","padding","g","append","call","axisLeft","axisBottom","selectAll","enter","bandwidth","render","BarChartStyledWrapper","className","style","ref","styled","div","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"oNAAe,MAA0B,uC,eCwF1BA,EApEE,SAACC,GAChB,IAAMC,EAAcC,iBAAO,MAyD3B,OAvDAC,qBAAU,WAKR,IAAMC,EAAMC,YAAOJ,EAAYK,SAC/BC,QAAQC,IAAIJ,EAAIK,KAAK,UACrB,IAAMC,GAASN,EAAIK,KAAK,SAClBE,GAAUP,EAAIK,KAAK,UACnBG,EAAgB,GAAhBA,EAAiD,GACjDC,EAAaH,EAAQE,EADM,GAE3BE,EAAcH,EAASC,EAFgB,GAGvCG,EAAS,SAACC,GAAD,OAAOA,EAAEC,YAClBC,EAAS,SAACF,GAAD,OAAOA,EAAEG,SAiCxBC,YAAIC,GAAMC,MAAK,SAACD,GACdA,EAAKE,SAAQ,SAACP,GACZA,EAAEC,WAA6B,KAAfD,EAAEC,cAEpBI,EAAKG,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAET,WAAaQ,EAAER,cAnCxB,SAACI,GACd,IAAMM,EAASC,cACZC,OAAO,CAAC,EAAGC,YAAIT,EAAMN,KACrBgB,MAAM,CAAC,EAAGlB,IAGPmB,EAASC,cACZJ,OAAOR,EAAKa,IAAIhB,IAChBa,MAAM,CAAC,EAAGjB,IACVqB,QAAQ,IAILC,EAAIhC,EACPiC,OAAO,KACP5B,KAAK,YAFE,oBAEwBG,EAFxB,YAEuCA,EAFvC,MAIVwB,EAAEC,OAAO,KAAKC,KAAKC,YAASP,IAC5BI,EAAEC,OAAO,KACNC,KAAKE,YAAWb,IAChBlB,KAAK,YAFR,uBAEqCK,EAFrC,MAIAsB,EAAEK,UAAU,QACTpB,KAAKA,GACLqB,QACAL,OAAO,QACP5B,KAAK,KAAK,SAACO,GAAD,OAAOgB,EAAOd,EAAOF,OAC/BP,KAAK,SAAS,SAACO,GAAD,OAAOW,EAAOZ,EAAOC,OACnCP,KAAK,SAAUuB,EAAOW,aAQzBC,CAAOvB,QAER,IAGD,cAACwB,EAAD,CACEC,UAAU,mBACVC,MAAO,CAAErC,MAAO,SAAUC,OAAQ,SAFpC,SAIE,qBAAKD,MAAO,IAAMC,OAAQ,IAAKqC,IAAK/C,OAOpC4C,EAAwBI,IAAOC,IAAV,gLC/EZC,MATf,WACE,OACE,sBAAKL,UAAU,MAAf,UACE,wBAAQA,UAAU,eAClB,cAAC,EAAD,QCMSM,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBhC,MAAK,YAAkD,IAA/CiC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAAShB,OACP,cAAC,IAAMiB,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BX,M","file":"static/js/main.183f6d65.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/population.e7e8d498.csv\";","import { useEffect, useState, useRef } from \"react\";\r\nimport {\r\n  select,\r\n  csv,\r\n  scaleLinear,\r\n  max,\r\n  scaleBand,\r\n  axisLeft,\r\n  axisBottom,\r\n} from \"d3\";\r\nimport data from \"./population.csv\";\r\nimport styled from \"styled-components\";\r\n// json(pa).then((data) => {\r\n//   console.log(\"data\", data);\r\n// });\r\n\r\n// csv('https://vizhub.com/curran/datasets/temperature-in-san-francisco.csv').then((data) => {\r\n//   console.log(\"data\", data);\r\n// });\r\n\r\nconst BarChart = (props) => {\r\n  const barChartRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // csv('papulation.csv').then((data) => {\r\n    //   console.log(\"data\", data);\r\n    // });\r\n\r\n    const svg = select(barChartRef.current);\r\n    console.log(svg.attr(\"width\"));\r\n    const width = +svg.attr(\"width\");\r\n    const height = +svg.attr(\"height\");\r\n    const margin = { top: 20, right: 20, bottom: 20, left: 50 };\r\n    const innerWidth = width - margin.left - margin.right;\r\n    const innerHeight = height - margin.top - margin.bottom;\r\n    const xValue = (d) => d.population;\r\n    const yValue = (d) => d.country;\r\n\r\n    const render = (data) => {\r\n      const xScale = scaleLinear()\r\n        .domain([0, max(data, xValue)])\r\n        .range([0, innerWidth]);\r\n      // const xAxis = axisBottom(xScale);\r\n\r\n      const yScale = scaleBand()\r\n        .domain(data.map(yValue))\r\n        .range([0, innerHeight])\r\n        .padding(0.3);\r\n\r\n      // const yAxis = axisLeft(yScale);\r\n\r\n      const g = svg\r\n        .append(\"g\")\r\n        .attr(\"transform\", `translate(${margin.left},${margin.top})`);\r\n\r\n      g.append(\"g\").call(axisLeft(yScale));\r\n      g.append(\"g\")\r\n        .call(axisBottom(xScale))\r\n        .attr(\"transform\", `translate(0, ${innerHeight})`);\r\n\r\n      g.selectAll(\"rect\")\r\n        .data(data)\r\n        .enter()\r\n        .append(\"rect\")\r\n        .attr(\"y\", (d) => yScale(yValue(d)))\r\n        .attr(\"width\", (d) => xScale(xValue(d)))\r\n        .attr(\"height\", yScale.bandwidth());\r\n    };\r\n\r\n    csv(data).then((data) => {\r\n      data.forEach((d) => {\r\n        d.population = +d.population * 1000;\r\n      });\r\n      data.sort((a, b) => b.population - a.population);\r\n      render(data);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <BarChartStyledWrapper\r\n      className=\"barchart-section\"\r\n      style={{ width: \"1000px\", height: \"800px\" }}\r\n    >\r\n      <svg width={1000} height={800} ref={barChartRef}></svg>\r\n    </BarChartStyledWrapper>\r\n  );\r\n};\r\n\r\nexport default BarChart;\r\n\r\nconst BarChartStyledWrapper = styled.div`\r\n  .barchart-section {\r\n    margin: 0px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  rect {\r\n    fill: steelblue;\r\n  }\r\n\r\n  text {\r\n    font-size: 1.4em;\r\n  }\r\n`;\r\n","import BarChart from \"./components/BarChart\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\"></header>\n      <BarChart />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}